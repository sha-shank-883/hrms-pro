.layout {
  display: flex;
  height: 100vh;
  overflow: hidden;
  background-color: var(--bg-secondary);
}

.sidebar {
  width: 240px;
  background: white;
  /* BambooHR often uses light sidebars now, or very dark. Let's stick to clean white with border for modern look, or keep dark. The user asked for BambooHR style which usually has a light sidebar or dark nav. Let's go with Dark Sidebar to match the "Enterprise" feel but cleaner */
  background: var(--secondary-dark);
  /* Using the new dark secondary */
  color: white;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  flex-direction: column;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
  position: relative;
  z-index: 20;
}

.sidebar.closed {
  width: 64px;
}

.sidebar-header {
  padding: 1.5rem 1rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  /* Center logo/text */
}

.sidebar-header h2 {
  font-size: 1.25rem;
  font-weight: 700;
  color: white;
  letter-spacing: -0.01em;
  margin: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sidebar.closed .sidebar-header h2 {
  display: none;
}

/* Add a small icon for closed state if needed via JS, or just hide text */

.sidebar-nav {
  flex: 1;
  overflow-y: auto;
  padding: 1rem 0.75rem;
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.sidebar-nav::-webkit-scrollbar {
  width: 4px;
}

.sidebar-nav::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

.nav-section-title {
  padding: 1rem 0.5rem 0.5rem;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.4);
  letter-spacing: 0.05em;
  white-space: nowrap;
}

.sidebar.closed .nav-section-title {
  display: none;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 0.75rem;
  margin-bottom: 0.25rem;
  color: rgba(255, 255, 255, 0.8);
  text-decoration: none;
  transition: all 0.2s ease;
  position: relative;
  border-radius: 6px;
  /* Slightly softer radius */
  font-weight: 500;
  font-size: 0.9rem;
}

.nav-item:hover {
  background: rgba(255, 255, 255, 0.1);
  color: white;
}

.nav-item.active {
  background: var(--primary-color);
  color: white;
}

.nav-item svg {
  font-size: 1.1rem;
  min-width: 1.25rem;
  /* Ensure icon alignment */
  text-align: center;
}

.sidebar.closed .nav-item {
  justify-content: center;
  padding: 0.75rem 0;
}

.sidebar.closed .nav-item span:not(.badge),
/* Hide text labels but keep badges if possible? No, hide all text */
.sidebar.closed .nav-item .badge {
  display: none;
  /* Simplest handling for closed state */
}

/* Header */
.header {
  height: 64px;
  background: white;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.5rem;
  box-shadow: var(--shadow-sm);
  z-index: 10;
}

.sidebar-toggle {
  background: transparent;
  border: none;
  font-size: 1.25rem;
  cursor: pointer;
  color: var(--text-secondary);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
  box-shadow: none;
}

.sidebar-toggle:hover {
  background: var(--bg-tertiary);
  color: var(--primary-color);
  transform: none;
  box-shadow: none;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.user-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.25rem 0.5rem;
  background: transparent;
  border: none;
}

.user-name {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.9rem;
}

.user-role {
  font-size: 0.7rem;
  padding: 0.15rem 0.5rem;
  border-radius: 12px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  text-transform: uppercase;
}

.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--bg-secondary);
}

.page-content {
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  max-width: 1600px;
  /* Prevent too wide on large screens */
  margin: 0 auto;
  width: 100%;
}

@media (max-width: 768px) {
  .sidebar {
    position: fixed;
    height: 100%;
    transform: translateX(0);
  }

  .sidebar.closed {
    transform: translateX(-100%);
    width: 240px;
    /* When open on mobile, it's full width or standard width */
  }

  /* Fix for sidebar state on mobile: 
     The logic in Layout.jsx toggles 'closed' class. 
     If closed on mobile (default), translateX -100%. 
     If open, translateX 0.
  */

  .page-content {
    padding: 1rem;
  }
}